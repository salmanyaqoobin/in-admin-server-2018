{"version":3,"sources":["server/prize/prize.model.js"],"names":["async","require","Promise","mongoose","httpStatus","APIError","validator","_","ObjectID","PrizeScheme","Schema","title","type","String","trim","minlength","required","prize_image","prize_type","enum","default","total_quantity","Number","total_quantity_consumed","total_points","region","limit_per_day","prize_value","prize_status","createdAt","Date","now","days_consumption","user_id","Types","ObjectId","prize_consume_date","day_consume_status","min","max","method","toJSON","coupon","couponObject","toObject","statics","get","id","findById","exec","then","prize","err","NOT_FOUND","reject","list","skip","limit","find","select","sort","Prize","model","module","exports"],"mappings":"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","file":"prize.model.js","sourceRoot":"../../../../.."}